<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lightweight Access to the Geospatial Data Abstraction Library ('GDAL') • vapour</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><meta property="og:title" content="Lightweight Access to the Geospatial Data Abstraction Library ('GDAL')">
<meta property="og:description" content="Provides low-level access to 'GDAL' functionality for R packages. The aim is to minimize
  the level of interpretation put on the 'GDAL' facilities, to enable direct use of it for a variety of purposes. 
  'GDAL' is the Geospatial Data Abstraction Library a translator for raster and vector geospatial data formats 
  that presents a single raster abstract data model and single vector abstract data model to the calling application 
  for all supported formats &lt;http://gdal.org/&gt;. ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">vapour</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->

<div id="vapour" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#vapour" class="anchor"></a>vapour</h1></div>
<p>The goal of vapour is to provide a basic <strong>GDAL API</strong> package for R. Ideally, this could become a common foundation for other packages to specialize.</p>
<p>A parallel goal is to be freed from the powerful but sometimes limiting high-level data models of GDAL itself, specifically these are <em>simple features</em> and <em>affine-based regular rasters composed of 2D slices</em>. (GDAL will possibly remove these limitations over time but still there will always be value in having modularity in an ecosystem of tools. )</p>
<p>This is inspired by and draws on work done in <a href="https://github.com/r-spatial/sf">the sf package</a> and in packages <code>rgdal</code> and <code>rgdal2</code>.</p>
<p>Examples of packages that use vapour are <a href="https://github.com/mdsumner/RGDALSQL">RGDALSQL</a> and <a href="https://github.com/hypertidy/lazyraster">lazyraster</a>. <code>RGDALSQL</code> aims to leverage the facilities of GDAL to provide data <em>on-demand</em> for many sources <em>as if</em> they were databases. <code>lazyraster</code> uses the level-of-detail facility of GDAL to read just enough resolution from a raster source.</p>
</div>
<div id="purpose" class="section level1">
<h1 class="hasAnchor">
<a href="#purpose" class="anchor"></a>Purpose</h1>
<p>Currently we have control to do the following:</p>
<ul>
<li>read attributes only</li>
<li>read geometry only</li>
<li>read geometry as raw binary, or various text forms</li>
<li>read geometry bounding box only</li>
<li>optionally, apply <a href="http://www.gdal.org/ogr_sql.html">OGRSQL</a> to a layer prior to above read calls</li>
</ul>
<p>Limitations, work-in-progress and other discussion are active here: <a href="https://github.com/hypertidy/vapour/issues/4" class="uri">https://github.com/hypertidy/vapour/issues/4</a></p>
</div>
<div id="warnings" class="section level1">
<h1 class="hasAnchor">
<a href="#warnings" class="anchor"></a>Warnings</h1>
<p>It’s possible to give problematic “SELECT” statements via the <code>sql</code> argument. Note that the geometry readers <code>vapour_read_geometry</code>, <code>vapour_read_geometry_text</code>, and <code>vapour_read_extent</code> will strip out the <code>SELECT ... FROM</code> clause and replace it with <code>SELECT * FROM</code> to ensure that the geometry is accessible, though the attributes are ignored. This means we can allow the user or <code>dplyr</code> to create any <code>SELECT</code> statement. The function <code>vapour_read_geometry_what</code> will return a list of NULLs, in this case.</p>
<p>I haven’t tried this against a real database, I’m not sure if we need <code>AsBinary()</code> around EWKB geoms, for example - but at any rate these can be ingested by <code>sf</code>.</p>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>There’s a function <code>vapour_read_attributes</code> that returns the attributes as list of vectors.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">pfile &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"point.shp"</span>, <span class="dt">package =</span> <span class="st">"vapour"</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(vapour)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="reference/vapour_read_attributes.html">vapour_read_attributes</a></span>(pfile)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co">#&gt; $a</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></a></code></pre></div>
<p>A higher level function <em>somewhere else</em> could wrap that function to return a data frame, but we don’t want that in <code>vapour</code> because it’s not aligned with the goals of being lightweight and reducing the level of interpretation applied. The <code>data.frame</code> function in R is actually a very primitive implememtation for data frames, so we avoid putting that interpretation on the data and leave that up to the developer / user.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">mvfile &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">"extdata/tab/list_locality_postcode_meander_valley.tab"</span>, <span class="dt">package=</span><span class="st">"vapour"</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">dat &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw"><a href="reference/vapour_read_attributes.html">vapour_read_attributes</a></span>(mvfile),  <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="kw">dim</span>(dat)</a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; [1] 58 11</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="kw">head</span>(dat)</a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt;   LOCAL_ID        NAME POSTCODE PLAN_REF   GAZ_DATE NOM_REG_NO</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt; 1   100422    Caveside     7304  CPR5322 1970-01-01       947L</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt; 2   100366     Weegena     7304  CPR5327 1970-01-01      1300M</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt; 3   100337   Kimberley     7304  CPR5361 1970-01-01      1063T</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">#&gt; 4   100308     Parkham     7304  CPR5327 1970-01-01      1179Y</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt; 5   100263   Frankford     7275  CPR5142 1970-01-01      1003Q</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt; 6   100311 Bridgenorth     7277  CPR5140 1970-01-01       925X</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co">#&gt;                                      UFI          CREATED_ON</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co">#&gt; 1 {4a5db4da-ca19-41a0-8dd4-c28a14bbee18} 2016-03-04 10:42:37</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="co">#&gt; 2 {253b676e-2791-469c-ac5e-9cb3a95cc158} 2015-06-19 13:46:50</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="co">#&gt; 3 {75f60a99-4c58-4d3e-911d-bbaa9a04164c} 2016-09-16 10:54:56</span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20"><span class="co">#&gt; 4 {b008d456-4e80-4237-80f6-a26c03817e3c} 2014-06-06 16:50:22</span></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="co">#&gt; 5 {953f4006-6397-4d03-af97-507eab170862} 2014-12-08 09:07:12</span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="co">#&gt; 6 {5cf8e2a3-631c-4d52-a79c-0ce475f76848} 2015-05-11 10:49:09</span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="co">#&gt;                                LIST_GUID SHAPE_AREA SHAPE_LEN</span></a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="co">#&gt; 1 {839edd46-01a7-4a45-9d97-499962fa952b}      -9999  39785.88</span></a>
<a class="sourceLine" id="cb2-25" data-line-number="25"><span class="co">#&gt; 2 {de35ebd4-0ac0-4299-947d-87d07c69426a}      -9999  31587.54</span></a>
<a class="sourceLine" id="cb2-26" data-line-number="26"><span class="co">#&gt; 3 {73ced9ad-ee9a-41d5-a5bc-c95c4ab948d9}      -9999  35693.32</span></a>
<a class="sourceLine" id="cb2-27" data-line-number="27"><span class="co">#&gt; 4 {37f17d1f-d2a0-4b78-ba0d-e5f62f216658}      -9999  67614.51</span></a>
<a class="sourceLine" id="cb2-28" data-line-number="28"><span class="co">#&gt; 5 {47f3a313-913f-4f83-8dc1-021907f9ee80}      -9999  70140.78</span></a>
<a class="sourceLine" id="cb2-29" data-line-number="29"><span class="co">#&gt; 6 {425d01cc-223b-4348-b965-384a98fd7999}      -9999  38156.70</span></a></code></pre></div>
</div>
<div id="ogrsql" class="section level2">
<h2 class="hasAnchor">
<a href="#ogrsql" class="anchor"></a>OGRSQL</h2>
<p>Note that each lower-level function accepts a <code>sql</code> argument, which sends a query to the GDAL library to be executed against the data source, this can create custom layers and so is independent of and ignores the <code>layer</code> argument. Note that the same sql statement can be passed to the geometry readers, so we get the matching sets of information. <code>vapour_read_feature_what</code> will return NULL for each missing geometry if the statement doesn’t include geometry explicitly or implicitly, but <code>vapour_read_geometry</code>, <code>vapour_read_geometry_text</code> and <code>vapour_read_extent</code> all explicitly modify the statement "SELECT *". (We are also assuming the data source hasn’t changed between accesses … let me know if this causes you problems!).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="reference/vapour_read_attributes.html">vapour_read_attributes</a></span>(mvfile, <span class="dt">sql =</span> <span class="st">"SELECT NAME, PLAN_REF FROM list_locality_postcode_meander_valley WHERE POSTCODE = 7310"</span>)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">#&gt; $NAME</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt; character(0)</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt; $PLAN_REF</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt; character(0)</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="kw"><a href="reference/vapour_read_attributes.html">vapour_read_attributes</a></span>(mvfile, <span class="dt">sql =</span> <span class="st">"SELECT NAME, PLAN_REF, FID FROM list_locality_postcode_meander_valley WHERE POSTCODE = 7306"</span>)</a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt; $NAME</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt; [1] "Cradle Mountain" "Mount Roland"    "Middlesex"       "Lower Beulah"   </span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt; $PLAN_REF</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt; [1] "CPR5363" "CPR5359" "CPR5362" "CPR5361"</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt; $FID</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt; [1] 20 31 36 45</span></a></code></pre></div>
<p>Also note that FID is a special row number value, to be used a as general facility for selecting by structural row. This FID is driver-dependent, it can be 0- or 1-based, or completely arbitrary.</p>
<p>See <a href="http://www.gdal.org/ogr_sql.html" class="uri">http://www.gdal.org/ogr_sql.html</a></p>
<p>There are many useful higher level operations that can be used with this. The simplest is the ability to use GDAL as a database-like connection to attribute tables.</p>
<p>A low-level function will return a character vector of JSON, GML, KML or WKT.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="reference/vapour_read_geometry.html">vapour_read_geometry</a></span>(pfile)[<span class="dv">5</span><span class="op">:</span><span class="dv">6</span>]  ## format = "WKB"</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#&gt;  [1] 01 01 00 00 00 00 00 60 08 18 ad ec 3f 00 00 e0 9a ec 77 e2 3f</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; [[2]]</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt;  [1] 01 01 00 00 00 00 00 c0 40 3c bb d0 3f 00 00 80 0e 30 25 d5 3f</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="kw"><a href="reference/vapour_read_geometry_text.html">vapour_read_geometry_text</a></span>(pfile)[<span class="dv">5</span><span class="op">:</span><span class="dv">6</span>]  ## format = "json"</a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt; [1] "{ \"type\": \"Point\", \"coordinates\": [ 0.89612962375395, 0.577139189234003 ] }"</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt; [[2]]</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt; [1] "{ \"type\": \"Point\", \"coordinates\": [ 0.261427939636633, 0.330394758377224 ] }"</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"></a>
<a class="sourceLine" id="cb4-15" data-line-number="15">cfile &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">"extdata/sst_c.gpkg"</span>, <span class="dt">package =</span> <span class="st">"vapour"</span>)</a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="kw"><a href="reference/vapour_read_geometry_text.html">vapour_read_geometry_text</a></span>(pfile, <span class="dt">textformat =</span> <span class="st">"gml"</span>)[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="co">#&gt; [1] "&lt;gml:Point&gt;&lt;gml:coordinates&gt;0.145755324047059,0.395469118840992&lt;/gml:coordinates&gt;&lt;/gml:Point&gt;"</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19"></a>
<a class="sourceLine" id="cb4-20" data-line-number="20">## don't do this with a non-longlat data set like cfile</a>
<a class="sourceLine" id="cb4-21" data-line-number="21"><span class="kw"><a href="reference/vapour_read_geometry_text.html">vapour_read_geometry_text</a></span>(pfile, <span class="dt">textformat =</span> <span class="st">"kml"</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb4-22" data-line-number="22"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb4-23" data-line-number="23"><span class="co">#&gt; [1] "&lt;Point&gt;&lt;coordinates&gt;0.623376188334078,0.380098037654534&lt;/coordinates&gt;&lt;/Point&gt;"</span></a>
<a class="sourceLine" id="cb4-24" data-line-number="24"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-25" data-line-number="25"><span class="co">#&gt; [[2]]</span></a>
<a class="sourceLine" id="cb4-26" data-line-number="26"><span class="co">#&gt; [1] "&lt;Point&gt;&lt;coordinates&gt;0.145755324047059,0.395469118840992&lt;/coordinates&gt;&lt;/Point&gt;"</span></a>
<a class="sourceLine" id="cb4-27" data-line-number="27"></a>
<a class="sourceLine" id="cb4-28" data-line-number="28"><span class="kw">str</span>(<span class="kw"><a href="reference/vapour_read_geometry_text.html">vapour_read_geometry_text</a></span>(cfile, <span class="dt">textformat =</span> <span class="st">"wkt"</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>])</a>
<a class="sourceLine" id="cb4-29" data-line-number="29"><span class="co">#&gt; List of 2</span></a>
<a class="sourceLine" id="cb4-30" data-line-number="30"><span class="co">#&gt;  $ : chr "MULTILINESTRING ((-16254.4210476553 -3269904.98849485,-48956.5880244328 -3282652.40200143,-82133.8545994558 -33"| __truncated__</span></a>
<a class="sourceLine" id="cb4-31" data-line-number="31"><span class="co">#&gt;  $ : chr "MULTILINESTRING ((-18812.5003359828 -3784514.28779524,-40153.6937313319 -3789439.97415405,-37747.2881609 -38569"| __truncated__</span></a></code></pre></div>
<p>Combine these together to get a custom data set.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">dat &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw"><a href="reference/vapour_read_attributes.html">vapour_read_attributes</a></span>(cfile),  <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">wkt =</span> <span class="kw"><a href="reference/vapour_read_geometry_text.html">vapour_read_geometry_text</a></span>(cfile, <span class="dt">textformat =</span> <span class="st">"wkt"</span>))</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="kw"><a href="http://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(dat)</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt; Observations: 7</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt; Variables: 3</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt; $ level &lt;chr&gt; "275", "280", "285", "290", "295", "300", "305"</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt; $ sst   &lt;dbl&gt; 1.85, 6.85, 11.85, 16.85, 21.85, 26.85, 31.85</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt; $ wkt   &lt;list&gt; ["MULTILINESTRING ((-16254.4210476553 -3269904.98849485...</span></a></code></pre></div>
</div>
<div id="fast-summary" class="section level2">
<h2 class="hasAnchor">
<a href="#fast-summary" class="anchor"></a>Fast summary</h2>
<p>There is a function <code>vapour_read_extent</code> to return a straightforward bounding box vector for every feature, so that we can flexibly build an index of a data set for later use.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">mvfile &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">"extdata/tab/list_locality_postcode_meander_valley.tab"</span>, <span class="dt">package=</span><span class="st">"vapour"</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">str</span>(<span class="kw"><a href="reference/vapour_read_extent.html">vapour_read_extent</a></span>(mvfile))</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; List of 58</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt;  $ : num [1:4] 448353 457706 5386606 5397352</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt;  $ : num [1:4] 453544 459318 5403972 5412505</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt;  $ : num [1:4] 454840 461042 5411562 5417892</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt;  $ : num [1:4] 461505 476213 5410911 5424854</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt;  $ : num [1:4] 471573 483157 5417110 5424645</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt;  $ : num [1:4] 491638 494048 5417262 5419331</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt;  $ : num [1:4] 508512 510057 5408709 5409648</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt;  $ : num [1:4] 435993 444517 5392900 5402213</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co">#&gt;  $ : num [1:4] 453298 462671 5383592 5393869</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co">#&gt;  $ : num [1:4] 457592 473357 5377059 5397051</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">#&gt;  $ : num [1:4] 465137 477418 5394645 5408531</span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#&gt;  $ : num [1:4] 495773 507915 5396427 5405789</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#&gt;  $ : num [1:4] 489939 499712 5410677 5418328</span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17"><span class="co">#&gt;  $ : num [1:4] 459056 471905 5418849 5425154</span></a>
<a class="sourceLine" id="cb6-18" data-line-number="18"><span class="co">#&gt;  $ : num [1:4] 455980 463979 5392870 5399259</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="co">#&gt;  $ : num [1:4] 475889 493826 5379077 5389494</span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="co">#&gt;  $ : num [1:4] 480223 490958 5397052 5414286</span></a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co">#&gt;  $ : num [1:4] 485858 494029 5407194 5418267</span></a>
<a class="sourceLine" id="cb6-22" data-line-number="22"><span class="co">#&gt;  $ : num [1:4] 505330 508582 5407832 5411813</span></a>
<a class="sourceLine" id="cb6-23" data-line-number="23"><span class="co">#&gt;  $ : num [1:4] 412719 433694 5364102 5392659</span></a>
<a class="sourceLine" id="cb6-24" data-line-number="24"><span class="co">#&gt;  $ : num [1:4] 418130 431437 5352613 5368181</span></a>
<a class="sourceLine" id="cb6-25" data-line-number="25"><span class="co">#&gt;  $ : num [1:4] 452420 460772 5395775 5404447</span></a>
<a class="sourceLine" id="cb6-26" data-line-number="26"><span class="co">#&gt;  $ : num [1:4] 459779 470225 5398391 5405474</span></a>
<a class="sourceLine" id="cb6-27" data-line-number="27"><span class="co">#&gt;  $ : num [1:4] 471219 485530 5383849 5395087</span></a>
<a class="sourceLine" id="cb6-28" data-line-number="28"><span class="co">#&gt;  $ : num [1:4] 457719 469430 5407328 5420616</span></a>
<a class="sourceLine" id="cb6-29" data-line-number="29"><span class="co">#&gt;  $ : num [1:4] 486794 497211 5391896 5400794</span></a>
<a class="sourceLine" id="cb6-30" data-line-number="30"><span class="co">#&gt;  $ : num [1:4] 488190 498092 5396973 5409378</span></a>
<a class="sourceLine" id="cb6-31" data-line-number="31"><span class="co">#&gt;  $ : num [1:4] 479268 487581 5412326 5419668</span></a>
<a class="sourceLine" id="cb6-32" data-line-number="32"><span class="co">#&gt;  $ : num [1:4] 487082 491200 5405846 5410168</span></a>
<a class="sourceLine" id="cb6-33" data-line-number="33"><span class="co">#&gt;  $ : num [1:4] 507192 508682 5409572 5411550</span></a>
<a class="sourceLine" id="cb6-34" data-line-number="34"><span class="co">#&gt;  $ : num [1:4] 432998 441413 5402891 5406595</span></a>
<a class="sourceLine" id="cb6-35" data-line-number="35"><span class="co">#&gt;  $ : num [1:4] 457813 463400 5408117 5415279</span></a>
<a class="sourceLine" id="cb6-36" data-line-number="36"><span class="co">#&gt;  $ : num [1:4] 470867 483434 5404320 5419938</span></a>
<a class="sourceLine" id="cb6-37" data-line-number="37"><span class="co">#&gt;  $ : num [1:4] 481800 490524 5388711 5398922</span></a>
<a class="sourceLine" id="cb6-38" data-line-number="38"><span class="co">#&gt;  $ : num [1:4] 493483 506413 5403349 5412391</span></a>
<a class="sourceLine" id="cb6-39" data-line-number="39"><span class="co">#&gt;  $ : num [1:4] 416790 424281 5390142 5396738</span></a>
<a class="sourceLine" id="cb6-40" data-line-number="40"><span class="co">#&gt;  $ : num [1:4] 432186 439291 5396541 5404521</span></a>
<a class="sourceLine" id="cb6-41" data-line-number="41"><span class="co">#&gt;  $ : num [1:4] 462417 469412 5391797 5398604</span></a>
<a class="sourceLine" id="cb6-42" data-line-number="42"><span class="co">#&gt;  $ : num [1:4] 473323 481800 5392390 5399469</span></a>
<a class="sourceLine" id="cb6-43" data-line-number="43"><span class="co">#&gt;  $ : num [1:4] 466298 472556 5407297 5412735</span></a>
<a class="sourceLine" id="cb6-44" data-line-number="44"><span class="co">#&gt;  $ : num [1:4] 488006 497239 5385526 5393899</span></a>
<a class="sourceLine" id="cb6-45" data-line-number="45"><span class="co">#&gt;  $ : num [1:4] 500476 505427 5409888 5413864</span></a>
<a class="sourceLine" id="cb6-46" data-line-number="46"><span class="co">#&gt;  $ : num [1:4] 422718 443693 5364752 5398969</span></a>
<a class="sourceLine" id="cb6-47" data-line-number="47"><span class="co">#&gt;  $ : num [1:4] 436393 455345 5390197 5405569</span></a>
<a class="sourceLine" id="cb6-48" data-line-number="48"><span class="co">#&gt;  $ : num [1:4] 448464 450390 5404212 5404797</span></a>
<a class="sourceLine" id="cb6-49" data-line-number="49"><span class="co">#&gt;  $ : num [1:4] 459377 465847 5397255 5404093</span></a>
<a class="sourceLine" id="cb6-50" data-line-number="50"><span class="co">#&gt;  $ : num [1:4] 475502 482058 5400269 5408109</span></a>
<a class="sourceLine" id="cb6-51" data-line-number="51"><span class="co">#&gt;  $ : num [1:4] 476793 484115 5394878 5400905</span></a>
<a class="sourceLine" id="cb6-52" data-line-number="52"><span class="co">#&gt;  $ : num [1:4] 495936 499733 5389589 5396934</span></a>
<a class="sourceLine" id="cb6-53" data-line-number="53"><span class="co">#&gt;  $ : num [1:4] 425270 449448 5353987 5383046</span></a>
<a class="sourceLine" id="cb6-54" data-line-number="54"><span class="co">#&gt;  $ : num [1:4] 439927 462874 5358223 5393865</span></a>
<a class="sourceLine" id="cb6-55" data-line-number="55"><span class="co">#&gt;  $ : num [1:4] 468039 477380 5378281 5388344</span></a>
<a class="sourceLine" id="cb6-56" data-line-number="56"><span class="co">#&gt;  $ : num [1:4] 457541 466788 5403285 5409104</span></a>
<a class="sourceLine" id="cb6-57" data-line-number="57"><span class="co">#&gt;  $ : num [1:4] 495086 500372 5393786 5399069</span></a>
<a class="sourceLine" id="cb6-58" data-line-number="58"><span class="co">#&gt;  $ : num [1:4] 503880 507861 5396801 5404336</span></a>
<a class="sourceLine" id="cb6-59" data-line-number="59"><span class="co">#&gt;  $ : num [1:4] 502595 507481 5402752 5406382</span></a>
<a class="sourceLine" id="cb6-60" data-line-number="60"><span class="co">#&gt;  $ : num [1:4] 506075 509426 5404305 5408099</span></a>
<a class="sourceLine" id="cb6-61" data-line-number="61"><span class="co">#&gt;  $ : num [1:4] 506637 511687 5405460 5409603</span></a></code></pre></div>
<p>This makes for a very lightweight summary data set that will scale to hundreds of large inputs.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">dat &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/as.data.frame">as.data.frame</a></span>(<span class="kw"><a href="reference/vapour_read_attributes.html">vapour_read_attributes</a></span>(mvfile), </a>
<a class="sourceLine" id="cb7-2" data-line-number="2">                     <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="kw">library</span>(raster)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co">#&gt; Loading required package: sp</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt; Attaching package: 'raster'</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">#&gt; The following object is masked from 'package:dplyr':</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co">#&gt;     select</span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10">dat<span class="op">$</span>bbox &lt;-<span class="st"> </span><span class="kw"><a href="reference/vapour_read_extent.html">vapour_read_extent</a></span>(mvfile)</a>
<a class="sourceLine" id="cb7-11" data-line-number="11"></a>
<a class="sourceLine" id="cb7-12" data-line-number="12">all_extent &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/reduce">reduce</a></span>(<span class="kw">lapply</span>(dat<span class="op">$</span>bbox, raster<span class="op">::</span>extent), raster<span class="op">::</span>union)</a>
<a class="sourceLine" id="cb7-13" data-line-number="13">##plot(all_extent)</a>
<a class="sourceLine" id="cb7-14" data-line-number="14">##purrr::walk(lapply(dat$bbox, raster::extent), plot, add = TRUE)</a></code></pre></div>
<p>An example is this set of <em>some number of</em> property boundary shapefiles, read into a few hundred Mb of simple features.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">files &lt;-<span class="st"> </span>raadfiles<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raadfiles/topics/thelist">thelist_files</a></span>(<span class="dt">format =</span> <span class="st">""</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="kw">grepl</span>(<span class="st">"parcel"</span>, fullname), <span class="kw">grepl</span>(<span class="st">"shp$"</span>, fullname)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>)</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="kw">library</span>(vapour)</a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="kw">system.time</span>(purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/map">map</a></span>(files<span class="op">$</span>fullname, sf<span class="op">::</span>read_sf))</a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="co">#&gt;    user  system elapsed </span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt;   8.351   0.348   8.900</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="kw">library</span>(blob)</a>
<a class="sourceLine" id="cb8-9" data-line-number="9"></a>
<a class="sourceLine" id="cb8-10" data-line-number="10">## our timing is competitive, and we get to choose what is read</a>
<a class="sourceLine" id="cb8-11" data-line-number="11">## and when</a>
<a class="sourceLine" id="cb8-12" data-line-number="12">read_table &lt;-<span class="st"> </span><span class="cf">function</span>(file) <span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/as.data.frame">as.data.frame</a></span>(<span class="kw"><a href="reference/vapour_read_attributes.html">vapour_read_attributes</a></span>(file),  <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="kw">system.time</span>({</a>
<a class="sourceLine" id="cb8-14" data-line-number="14">d &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/map">map</a></span>(files<span class="op">$</span>fullname, read_table)</a>
<a class="sourceLine" id="cb8-15" data-line-number="15">d &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(d)</a>
<a class="sourceLine" id="cb8-16" data-line-number="16">g &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/map">map</a></span>(files<span class="op">$</span>fullname, vapour_read_geometry)</a>
<a class="sourceLine" id="cb8-17" data-line-number="17">d[[<span class="st">"wkb"</span>]] &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/blob/topics/blob">new_blob</a></span>(<span class="kw">unlist</span>(g, <span class="dt">recursive =</span> <span class="ot">FALSE</span>))</a>
<a class="sourceLine" id="cb8-18" data-line-number="18">})</a>
<a class="sourceLine" id="cb8-19" data-line-number="19"><span class="co">#&gt;    user  system elapsed </span></a>
<a class="sourceLine" id="cb8-20" data-line-number="20"><span class="co">#&gt;   3.825   0.447   4.409</span></a></code></pre></div>
<p>We can read that in this simpler way for a quick data set to act as an index.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">system.time</span>({</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">  d &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/map">map_df</a></span>(files<span class="op">$</span>fullname, read_table)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">  d<span class="op">$</span>bbox &lt;-<span class="st"> </span><span class="kw">unlist</span>(purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/map">map</a></span>(files<span class="op">$</span>fullname, vapour_read_extent), <span class="dt">recursive =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">})</a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co">#&gt;    user  system elapsed </span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">#&gt;   2.891   0.298   3.275</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"></a>
<a class="sourceLine" id="cb9-8" data-line-number="8">pryr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/pryr/topics/object_size">object_size</a></span>(d)</a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="co">#&gt; 50.5 MB</span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="kw"><a href="http://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(d)</a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="co">#&gt; Observations: 108,414</span></a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="co">#&gt; Variables: 20</span></a>
<a class="sourceLine" id="cb9-13" data-line-number="13"><span class="co">#&gt; $ CID        &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "", "", "",...</span></a>
<a class="sourceLine" id="cb9-14" data-line-number="14"><span class="co">#&gt; $ VOLUME     &lt;chr&gt; "169864", "", "", "136703", "", "", "212990", "2449...</span></a>
<a class="sourceLine" id="cb9-15" data-line-number="15"><span class="co">#&gt; $ FOLIO      &lt;int&gt; 2, 0, 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, 9, 0, 1, 0, 8, ...</span></a>
<a class="sourceLine" id="cb9-16" data-line-number="16"><span class="co">#&gt; $ PID        &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "", "", "",...</span></a>
<a class="sourceLine" id="cb9-17" data-line-number="17"><span class="co">#&gt; $ POT_PID    &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "", "", "",...</span></a>
<a class="sourceLine" id="cb9-18" data-line-number="18"><span class="co">#&gt; $ LPI        &lt;chr&gt; "FEV10", "KKL85", "", "HSY23", "GES42", "", "480244...</span></a>
<a class="sourceLine" id="cb9-19" data-line-number="19"><span class="co">#&gt; $ CAD_TYPE1  &lt;chr&gt; "Private Parcel", "Authority Land", "Authority Land...</span></a>
<a class="sourceLine" id="cb9-20" data-line-number="20"><span class="co">#&gt; $ CAD_TYPE2  &lt;chr&gt; "Private Parcel", "Forestry Tasmania", "Forestry Ta...</span></a>
<a class="sourceLine" id="cb9-21" data-line-number="21"><span class="co">#&gt; $ TENURE_TY  &lt;chr&gt; "Freehold Title", "Crown Land", "Crown Land", "Crow...</span></a>
<a class="sourceLine" id="cb9-22" data-line-number="22"><span class="co">#&gt; $ FEAT_NAME  &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "", "", "",...</span></a>
<a class="sourceLine" id="cb9-23" data-line-number="23"><span class="co">#&gt; $ STRATA_LEV &lt;chr&gt; "Not Applicable", "Not Applicable", "Not Applicable...</span></a>
<a class="sourceLine" id="cb9-24" data-line-number="24"><span class="co">#&gt; $ COMP_AREA  &lt;dbl&gt; 1200513.096, 23096.094, 148147.128, 4603209.423, 48...</span></a>
<a class="sourceLine" id="cb9-25" data-line-number="25"><span class="co">#&gt; $ MEAS_AREA  &lt;dbl&gt; 1207000, 0, 0, 0, 0, 0, 0, 136700, 0, 0, 0, 18260, ...</span></a>
<a class="sourceLine" id="cb9-26" data-line-number="26"><span class="co">#&gt; $ UFI        &lt;chr&gt; "cad013844403", "cad013933348", "cad013933302", "ca...</span></a>
<a class="sourceLine" id="cb9-27" data-line-number="27"><span class="co">#&gt; $ FMP        &lt;chr&gt; "cad000029000", "cad000029000", "cad000029000", "ca...</span></a>
<a class="sourceLine" id="cb9-28" data-line-number="28"><span class="co">#&gt; $ CREATED_ON &lt;chr&gt; "2015-08-25 14:31:57", "2016-04-07 10:22:12", "2016...</span></a>
<a class="sourceLine" id="cb9-29" data-line-number="29"><span class="co">#&gt; $ LIST_GUID  &lt;chr&gt; "{d1b80f74-2873-46d1-a6ed-d1d27a45bd6e}", "{3cb147d...</span></a>
<a class="sourceLine" id="cb9-30" data-line-number="30"><span class="co">#&gt; $ SHAPE_AREA &lt;dbl&gt; 1.200513e+06, 2.309609e+04, 1.481471e+05, 4.603209e...</span></a>
<a class="sourceLine" id="cb9-31" data-line-number="31"><span class="co">#&gt; $ SHAPE_LEN  &lt;dbl&gt; 4382.7258, 2365.0896, 14870.8324, 16288.4164, 14990...</span></a>
<a class="sourceLine" id="cb9-32" data-line-number="32"><span class="co">#&gt; $ bbox       &lt;list&gt; [&lt;551456.8, 552738.1, 5413518.9, 5414799.6&gt;, &lt;5544...</span></a></code></pre></div>
</div>
<div id="set-up" class="section level2">
<h2 class="hasAnchor">
<a href="#set-up" class="anchor"></a>Set up</h2>
<p>I’ve kept a record of a minimal GDAL wrapper package here:</p>
<p><a href="https://github.com/mdsumner/gdalmin" class="uri">https://github.com/mdsumner/gdalmin</a></p>
<p>This must be run when your function definitions change:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">tools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/tools/topics/package_native_routine_registration_skeleton">package_native_routine_registration_skeleton</a></span>(<span class="st">"../vapour"</span>, <span class="st">"src/init.c"</span>,<span class="dt">character_only =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
</div>
<div id="context" class="section level2">
<h2 class="hasAnchor">
<a href="#context" class="anchor"></a>Context</h2>
<p>My first real attempt at DBI abstraction is here, this is still an aspect that is desperately needed in R to help bring tidyverse attention to spatial:</p>
<p><a href="https://github.com/mdsumner/RGDALSQL" class="uri">https://github.com/mdsumner/RGDALSQL</a></p>
<p>Before that I had worked on getting sp and dplyr to at least work together <a href="https://github.com/dis-organization/sp_dplyrexpt" class="uri">https://github.com/dis-organization/sp_dplyrexpt</a> and recently rgdal was updated to allow tibbles to be used, something that spbabel and spdplyr really needed to avoid friction.</p>
<p>Early exploration of allow non-geometry read with rgdal was tried here: <a href="https://github.com/r-gris/gladr" class="uri">https://github.com/r-gris/gladr</a></p>
<p>Big thanks to Edzer Pebesma and Roger Bivand and Tim Keitt for prior art that I crib and copy from. Jeroen Ooms helped the R community hugely by providing an automatable build process for libraries on Windows. Mark Padgham helped kick me over a huge obstacle in using C++ libraries with R. Simon Wotherspoon and Ben Raymond have endured my ravings about wanting this level of control for many years.</p>
</div>
</div>
<div id="code-of-conduct" class="section level1">
<h1 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of conduct</h1>
<p>Please note that this project is released with a <a href="CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Report a bug at <br><a href="NA">NA</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Michael Sumner <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-2471-7511" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" height="16"></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/hypertidy/vapour"><img src="http://badges.herokuapp.com/travis/hypertidy/vapour?branch=master&amp;env=BUILD_NAME=trusty_clang&amp;label=trusty_clang" alt="Build Status"></a></li>
<li><a href="https://travis-ci.org/hypertidy/vapour"><img src="http://badges.herokuapp.com/travis/hypertidy/vapour?branch=master&amp;env=BUILD_NAME=osx&amp;label=osx" alt="Build Status"></a></li>
<li><a href="https://travis-ci.org/hypertidy/vapour"><img src="http://badges.herokuapp.com/travis/hypertidy/vapour?branch=master&amp;env=BUILD_NAME=mingw_w64&amp;label=mingw_w64" alt="Build Status"></a></li>
<li><a href="https://codecov.io/github/hypertidy/vapour?branch=master"><img src="https://img.shields.io/codecov/c/github/hypertidy/vapour/master.svg" alt="Coverage Status"></a></li>
<li><a href="https://cran.r-project.org/package=vapour"><img src="http://www.r-pkg.org/badges/version/vapour" alt="CRAN_Status_Badge"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Michael Sumner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
